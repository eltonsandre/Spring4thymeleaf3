
CREATE TABLE AGENDAMENTO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 DATA_CADASTRO TIMESTAMP,
 DATA_HORA_FINAL TIMESTAMP,
 DATA_HORA_INICIAL TIMESTAMP,
 PERIODO VARCHAR(255),
 STATUS VARCHAR(255),
 ID_ALUNO BIGINT,
 ID_FUNCIONARIO BIGINT,
 ID_VEICULO BIGINT,
 PRIMARY KEY (ID)
)

CREATE TABLE ALUNO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 ANEXO_CNH VARCHAR(255),
 CATEGORIA_CNH VARCHAR(255),
 DATA_PRIMEIRA_CNH TIMESTAMP,
 REGISTRO_CNH VARCHAR(255),
 VALIDADE_CNH TIMESTAMP,
 CONTATO VARBINARY(255),
 CPF_CNPJ VARCHAR(255) NOT NULL,
 DATA_CADASTRO TIMESTAMP,
 DATA_NASCIMENTO TIMESTAMP,
 DATA_EMISSAO TIMESTAMP,
 BAIRRO VARCHAR(255),
 CEP VARCHAR(255),
 COMPLEMENTO VARCHAR(255),
 LOGRADOURO VARCHAR(255),
 NUMERO VARCHAR(255),
 ESTATO_CIVIL INTEGER,
 NASCIONALIDADE INTEGER,
 NATURALIDADE VARCHAR(255),
 NOME VARCHAR(255) NOT NULL,
 ORGAO_EMISSOR VARCHAR(255),
 RG VARCHAR(255),
 SEXO VARCHAR(255),
 TIPO_PESSOA VARCHAR(255) NOT NULL,
 ATIVO BOOLEAN NOT NULL,
 CATEGORIA VARCHAR(255),
 CODIGO VARCHAR(255),
 DATA_MATRICULA DATE,
 OBSERVACAO VARCHAR(255),
 ID_CIDADE BIGINT,
 PRIMARY KEY (ID)
)

CREATE TABLE CIDADE (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 NOME VARCHAR(255) NOT NULL,
 CODIGO_ESTADO BIGINT NOT NULL,
 PRIMARY KEY (ID)
)

CREATE TABLE CLIENTE (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 CPF_CNPJ VARCHAR(255) NOT NULL,
 EMAIL VARCHAR(255),
 BAIRRO VARCHAR(255),
 CEP VARCHAR(255),
 COMPLEMENTO VARCHAR(255),
 LOGRADOURO VARCHAR(255),
 NUMERO VARCHAR(255),
 NOME VARCHAR(255) NOT NULL,
 TELEFONE VARCHAR(255),
 TIPO_PESSOA VARCHAR(255) NOT NULL,
 ID_CIDADE BIGINT,
 PRIMARY KEY (ID)
)

CREATE TABLE CONTATO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 PRIMARY KEY (ID)
)

CREATE TABLE CURSO_ALUNO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 ALUNO VARBINARY(255),
 DATA_CADASTRO TIMESTAMP,
 MAXIMO_AULAS INTEGER,
 MAXIMO_AULAS_DIURNAS INTEGER,
 MAXIMO_AULAS_NOTURNAS INTEGER,
 STATUS BOOLEAN,
 PRIMARY KEY (ID)
)

CREATE TABLE EMAIL (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 EMAIL VARCHAR(255),
 TIPO_EMAIL VARCHAR(255),
 ID_CONTATO BIGINT,
 PRIMARY KEY (ID)
)

CREATE TABLE ESTADO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 NOME VARCHAR(255),
 SIGLA VARCHAR(255),
 PRIMARY KEY (ID)
 )

CREATE TABLE FUNCIONARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 ANEXO_CNH VARCHAR(255),
 CATEGORIA_CNH VARCHAR(255),
 DATA_PRIMEIRA_CNH TIMESTAMP,
 REGISTRO_CNH VARCHAR(255),
 VALIDADE_CNH TIMESTAMP,
 CONTATO VARBINARY(255),
 CPF_CNPJ VARCHAR(255) NOT NULL,
 DATA_CADASTRO TIMESTAMP,
 DATA_NASCIMENTO TIMESTAMP,
 DATA_EMISSAO TIMESTAMP,
 BAIRRO VARCHAR(255),
 CEP VARCHAR(255),
 COMPLEMENTO VARCHAR(255),
 LOGRADOURO VARCHAR(255),
 NUMERO VARCHAR(255),
 ESTATO_CIVIL INTEGER,
 NASCIONALIDADE INTEGER,
 NATURALIDADE VARCHAR(255),
 NOME VARCHAR(255) NOT NULL,
 ORGAO_EMISSOR VARCHAR(255),
 RG VARCHAR(255),
 SEXO VARCHAR(255),
 TIPO_PESSOA VARCHAR(255) NOT NULL,
 ATIVO BOOLEAN NOT NULL,
 CARGO VARCHAR(255),
 CODIGO VARCHAR(255),
 DATA_ADMISSAO DATE,
 OBSERVACAO VARCHAR(255),
 ID_CIDADE BIGINT,
 PRIMARY KEY (ID)
)

CREATE TABLE GRUPO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 NOME VARCHAR(255),
 PRIMARY KEY (ID)
)

CREATE TABLE GRUPO_PERMISSAO (ID_GRUPO BIGINT NOT NULL,
 ID_PERMISSAO BIGINT NOT NULL)

CREATE TABLE PERMISSAO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 NOME VARCHAR(255),
 PRIMARY KEY (ID)
)

CREATE TABLE PRODUTO (CODIGO BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 COMISSAO NUMERIC(19,2) NOT NULL,
 DESCRICAO VARCHAR(50) NOT NULL,
 NOME VARCHAR(255) NOT NULL,
 QUANTIDADE_ESTOQUE INTEGER NOT NULL CHECK (QUANTIDADE_ESTOQUE<=9999),
 SKU VARCHAR(255) NOT NULL,
 VALOR NUMERIC(19,2) NOT NULL,
 PRIMARY KEY (CODIGO))

CREATE TABLE TELEFONE (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 TELEFONE VARCHAR(255),
 TIPO_TELEFONE VARCHAR(255),
 ID_CONTATO BIGINT,
 PRIMARY KEY (ID)
)

CREATE TABLE USUARIO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 ATIVO BOOLEAN,
 DATA_NASCIMENTO TIMESTAMP,
 EMAIL VARCHAR(255) NOT NULL,
 NOME VARCHAR(255) NOT NULL,
 SENHA VARCHAR(255),
 PRIMARY KEY (ID)
)

CREATE TABLE USUARIO_GRUPO (ID_USUARIO BIGINT NOT NULL,
 ID_GRUPO BIGINT NOT NULL,
 PRIMARY KEY (ID_GRUPO,
 ID_USUARIO))

CREATE TABLE VEICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
 ANO_FABRICACAO INTEGER,
 ANO_MODELO INTEGER,
 ATIVO BOOLEAN NOT NULL,
 CHASSI VARCHAR(255),
 CODIGO VARCHAR(255),
 COMBUSTIVEL VARCHAR(255),
 COR_PREDOMINANTE VARCHAR(255),
 DATA_AQUISICAO TIMESTAMP,
 DATA_CADASTRO TIMESTAMP,
 DESCRICAO VARCHAR(255),
 MARCA VARCHAR(255),
 MODELO VARCHAR(255),
 NUMERO_SERIE VARCHAR(255),
 OBSERVACAO VARCHAR(255),
 PATRIMONIO VARCHAR(255),
 PLACA VARCHAR(255),
 RENAVAM VARCHAR(255),
 TIPO_VEICULO VARCHAR(255),
 VALOR_AQUISICAO VARCHAR(255),
 PRIMARY KEY (ID)
)

ALTER TABLE AGENDAMENTO
	ADD CONSTRAINT FK_AGENDAMENTO_ALUNO
	FOREIGN KEY (ID_ALUNO) REFERENCES ALUNO

ALTER TABLE AGENDAMENTO
	ADD CONSTRAINT FK_AGENDAMENTO_FUNCIONARIO
	FOREIGN KEY (ID_FUNCIONARIO) REFERENCES FUNCIONARIO

ALTER TABLE AGENDAMENTO
	ADD CONSTRAINT FK_AGENDAMENTO_VEICULO
	FOREIGN KEY (ID_VEICULO) REFERENCES VEICULO

ALTER TABLE ALUNO
	ADD CONSTRAINT FK_ALUNO_CIDADE
	FOREIGN KEY (ID_CIDADE) REFERENCES CIDADE

ALTER TABLE CIDADE
	ADD CONSTRAINT FK_CIDADE_ESTADO
	FOREIGN KEY (ID_ESTADO) REFERENCES ESTADO

ALTER TABLE CLIENTE
	ADD CONSTRAINT FK_CLIENTE_CIDADE
	FOREIGN KEY (ID_CIDADE) REFERENCES CIDADE

ALTER TABLE EMAIL
	ADD CONSTRAINT FK_EMAIL_CONTATO
	FOREIGN KEY (ID_CONTATO) REFERENCES CONTATO

ALTER TABLE FUNCIONARIO
	ADD CONSTRAINT FK_FUNCIONARIO_CIDADE
	FOREIGN KEY (ID_CIDADE) REFERENCES CIDADE

ALTER TABLE GRUPO_PERMISSAO
	ADD CONSTRAINT FK_GRUPO_PERMISSAO_PERMISSAO
	FOREIGN KEY (ID_PERMISSAO) REFERENCES PERMISSAO

ALTER TABLE GRUPO_PERMISSAO
	ADD CONSTRAINT FK_GRUPO_PERMISSAO_GRUPO
	FOREIGN KEY (ID_GRUPO) REFERENCES GRUPO

ALTER TABLE TELEFONE
	ADD CONSTRAINT FK_TELEFONE_CONTATO
	FOREIGN KEY (ID_CONTATO) REFERENCES CONTATO

ALTER TABLE USUARIO_GRUPO
	ADD CONSTRAINT FK_USUARIO_GRUPO_USUARIO
	FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO

ALTER TABLE USUARIO_GRUPO
	ADD CONSTRAINT FK_USUARIO_GRUPO_GRUPO
	FOREIGN KEY (ID_GRUPO) REFERENCES GRUPO



